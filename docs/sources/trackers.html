<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>L’Attestation - Policy trackers</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../sources/vico.html" rel="next">
<link href="../sources/surveillance.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Pas de résultats",
    "search-matching-documents-text": "documents trouvés",
    "search-copy-link-title": "Copier le lien vers la recherche",
    "search-hide-matches-text": "Cacher les correspondances additionnelles",
    "search-more-match-text": "correspondance de plus dans ce document",
    "search-more-matches-text": "correspondances de plus dans ce document",
    "search-clear-button-title": "Effacer",
    "search-detached-cancel-button-title": "Annuler",
    "search-submit-button-title": "Envoyer"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">L’Attestation</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Recherche"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Basculer la navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Accueil</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../silence.html" rel="" target="">
 <span class="menu-text">Silence</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../sources.html" rel="" target="">
 <span class="menu-text">Sources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../exercices.html" rel="" target="">
 <span class="menu-text">Exercices</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../biblio.html" rel="" target="">
 <span class="menu-text">Bibliographie</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../sources/histoires.html">Sources</a></li><li class="breadcrumb-item"><a href="../sources/trackers.html">Policy trackers</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Sources</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sources/histoires.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Histoires de confinement</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sources/surveillance.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chiffres de la surveillance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sources/trackers.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Policy trackers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sources/vico.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">La Vie en confinement</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Policy trackers</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Dans les premiers mois de l’année 2020, des dizaines de chercheurs à travers le monde eurent, de manière indépendante, la même idée. Ils formèrent de petits groupes, souvent associés à une université donnée, et commencèrent à archiver systématiquement les politiques nationales ou locales justifiées par la pandémie : fermeture des frontières, des écoles, des commerces non-essentiels, confinement, couvre-feu, déploiement de la police ou de l’armée, traçage des cas contacts, quarantaine, port du masque, etc. Ce qu’en anglais on appelle <em>Public Health and Social Measures</em> ou <em>Non Pharmaceutical Interventions</em>. L’idée était de coder chaque politique de manière standardisée, selon un glossaire prédéfini, afin de permettre des comparaisons internationales, et d’obtenir une couverture du monde la plus exhaustive possible. Les routines de la recherche étaient sérieusement perturbées, et les canaux de communication scientifiques habituels ne fonctionnaient pour ainsi dire pas. Dans un moment de synchronisation saisissante des politiques publiques à l’échelle du globe, chacun restait enfermé dans les limites étroites du territoire national, de la région de confinement, voire de son domicile. On comprend facilement l’envie pressante de documenter les congruences et les variations des mesures édictées pour faire face au virus. On comprend aussi que des dizaines de projets très semblables aient pu être montés, en ignorant complètement, au moins dans les premiers mois, l’existence des autres. Dès l’été 2020, toutefois, les différentes équipes commencèrent à publier le résultat de leurs efforts dans de grandes revues anglo-saxonnes, principalement <em>Nature</em>, mettant leurs bases de données, parfois énormes, à disposition de l’ensemble de la communauté scientifique, et détaillant leurs méthodes de collecte et leurs protocoles de validation.</p>
<p>Parmi les bases de données les plus conséquentes, on peut citer :</p>
<ul>
<li><em>CoronaNet</em>, qui archive plus de 130 000 politiques nationales et sub-nationales dans 190 pays<span class="citation" data-cites="cheng2020">(<a href="#ref-cheng2020" role="doc-biblioref">Cheng et al. 2020</a>)</span>.</li>
<li><em>Oxford Covid-19 Government Response Tracker (OxCGRT)</em>, qui code plus de 85 000 politiques, ventilées en 26 types, pour 180 pays<span class="citation" data-cites="hale2021">(<a href="#ref-hale2021" role="doc-biblioref">Hale et al. 2021</a>)</span>.</li>
<li><em>COVID-19 Government Measures Dataset</em>, conçu par l’ONG <em>ACAPS</em>, spécialisée dans la récolte de données sur les crises humanitaires.</li>
<li><em>HIT-COVID</em>, développé par une une équipe d’épidémiologistes et de chercheurs en santé publique de l’Université John Hopkins, qui se concentre particulièrement sur l’Afrique, l’Asie et l’Amérique du Sud, et descend au niveau sub-national<span class="citation" data-cites="zheng2020">(<a href="#ref-zheng2020" role="doc-biblioref">Zheng et al. 2020</a>)</span>.</li>
<li><em>Complexity Science Hub COVID-19 Control Strategies List (CCCSL)</em>, qui distribue 11512 mesures enregistrée en 63 catégories et 500 sous-catégories. À titre d’exemple, les restrictions frappant les voyages sont divisées en 7 catégories et 50 sous-catégories<span class="citation" data-cites="desvars-larrive2020">(<a href="#ref-desvars-larrive2020" role="doc-biblioref">Desvars-Larrive et al. 2020</a>)</span>.</li>
<li><em>Protective Policy Indices (PPI)</em>, qui se distingue par une remarquable granularité spatiale : des données au niveau du premier échelon administratif sont disponibles pour 74 pays<span class="citation" data-cites="shvetsova2022">(<a href="#ref-shvetsova2022" role="doc-biblioref">Shvetsova et al. 2022</a>)</span>.</li>
</ul>
<p>À la fin de l’année 2020, le temps était venu de recenser et de confronter de manière systématique ces jeux de données. Au début, de bonnes volontés les signalaient dans un fil Twitter, qui devint un répertoire alimenté de manière collaborative, le <em>Tracker of Trackers</em>, puis se mua, quelques mois plus tard, en une base de données, le <em>Supertracker</em>, hébergée par l’Université d’Oxford. Le <em>Supertracker</em> recense, au moment où nous écrivons, quelques 300 éléments, organisés par thèmes : <em>Liberties and Human Rights</em>, <em>Macroeconomic and Financial Policy</em>, <em>Education Policy</em>, <em>Health and Care Policy</em>, etc. De son côté, l’Organisation Mondiale de la santé (OMS), aidée de la <em>London School of Tropical Medecine</em>, faisait un effort pour fusionner quelques unes des principales bases de données existantes au sein d’une seule et unique base. De cette fusion naquit le<em>Public Health and Social Measures Dataset</em>, qui archive, pour tous les pays du monde, 121 238 politiques mises en place à tous les niveaux administratifs.</p>
<p>Devant ces chiffres impressionnants, la perplexité gagne peut-être le lecteur. Qui a réellement récolté toutes ces données, comment, et quelle est leur fiabilité ? La plupart des projets ont reposé sur le travail bénévole de dizaines, ou de centaines de personnes à travers le monde. Dans un article en forme de bilan, signé par les concepteurs des principaux <em>Trackers</em>, les auteurs estiment qu’environ 2000 volontaires ont fait la récolte des données pour les 40 plus grandes bases<span class="citation" data-cites="cheng2022">(<a href="#ref-cheng2022" role="doc-biblioref">Cheng et al. 2022, 3</a>)</span>. <em>CoronaNet</em>, le projet le plus important, a fait appel à 260 « assistants de recherche » tout autour du monde. Chacun d’entre eux était en charge d’un pays, ou d’une fraction d’un pays, et devait scruter attentivement les sites gouvernementaux ou la <em>presse en ligne</em> pour détecter toute nouvelle mesure en lien avec le virus. Chaque trouvaille était saisie dans un questionnaire en ligne, avec sa date d’entrée en vigueur, la date de fin (si elle était connue), le code de la mesure selon le glossaire standardisé élaboré par l’équipe, le caractère obligatoire ou incitatif et les sanctions prévues. Dans leur très grande majorité, ces « assistants de recherche » étaient des <em>étudiants</em>, dont beaucoup étaient d’autant plus disponibles pour ce travail de petite main qu’ils étaient strictement enfermés chez eux. Seule une infime minorité a été rémunéré pour cela, pas forcément à cause de la mauvaise volonté des chercheurs, mais parce que la grande majorité de ces projets n’ont reçu <em>aucun financement</em>.</p>
<p>Autrement dit, la cartographie mondiale des mesures liées à la pandémie repose presque exclusivement sur le travail bénévole d’étudiants à l’affût des dépêches de la presse en ligne. Les bases sont donc, nécessairement, d’une qualité inégale, notamment en ce qui concerne le codage des informations recueillies. En faisant coder la même mesure à deux étudiants différents, au cours de leur processus de vérification, les chercheurs se sont aperçus qu’il y avait parfois, et comme c’est presque toujours le cas pour ce type d’opérations de recherche, des divergences substantielles entre les codeurs. Le pourcentage d’accord sur la notion de couvre-feu (<em>curfew</em>) par exemple, qui semble pourtant assez transparente, n’est que de 80%<span class="citation" data-cites="cheng2020">(<a href="#ref-cheng2020" role="doc-biblioref">Cheng et al. 2020, 764</a>)</span>. Selon les <em>trackers</em>, ces divergences étaient résorbées soit par consensus, soit par le vote majoritaire. Au fil des rounds de vérification, à mesure que la classification des politiques se stabilisait, puis, plus tard, quand les différentes bases ont été confrontées entre elles, elles sont devenues de plus en plus robustes.</p>
<p>Pour l’Europe, il existe une base de données qui colle parfaitement aux questions posées dans ce livre. Elle s’appelle <em>A Good Reason. A Chronicle of stay at home orders in Europe</em>. Elle n’a pas été développée par une équipe internationale de chercheurs, mais par un unique individu, Jean Merlin Von Agris, titulaire d’un Master en économie du développement, une trentaine d’années au moment des premiers confinements. Fermement opposé au principe de l’assignation à domicile, il commence, au cours de l’année 2020, à nourrir, de manière intermittente, une base de données systématique des <em>stay-at-home-orders</em> en Europe. Il se pose une question toute simple : où et quand fallait-il une « bonne raison » (<em>a good reason</em>) pour sortir de chez soi ? Petit à petit, le projet prend de l’ampleur, des centaines d’heures sont consacrées à éplucher la presse en ligne et les sites gouvernementaux, dans plusieurs langues. Une première version de la base est publiée au cours de l’année 2021, puis améliorée par la suite. Sous sa forme définitive, elle suit les politiques de confinement dans l’Europe continentale, c’est à dire pour 47 unités territoriales, incluant la Turquie, la Russie, l’Ukraine et la Biélorussie, du 1er janvier 2020 au 30 juin 2021. Pour donner une idée de sa précision, on y trouve plusieurs des couvre-feux mis en place par des municipalités en France au cours du printemps 2020, notamment dans le Nord de la France. Par ailleurs, le taux de convergence avec la base de 41 pays constituée par Jan Brauner et ses collègues<span class="citation" data-cites="brauner2021">(<a href="#ref-brauner2021" role="doc-biblioref">Brauner et al. 2021</a>)</span> est excellent. Néanmoins, jusqu’à ce que nous repérions la base dans le <em>Supertracker</em> maintenu par l’Université d’Oxford, aucun chercheur ne s’en était emparé, et à part quelques échanges avec l’équipe de l’<em>OxCGRT</em> pour corriger des erreurs mutuelles et une période de bénévolat pour <em>CoronaNet</em>, Von Agris était resté complètement ignoré du petit monde travaillant sur ces questions.</p>




<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">Les références</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-brauner2021" class="csl-entry" role="listitem">
Brauner, Jan M., Sören Mindermann, Mrinank Sharma, David Johnston, John Salvatier, Tomáš Gavenčiak, Anna B. Stephenson, et al. 2021. <span>«&nbsp;Inferring the Effectiveness of Government Interventions Against COVID-19&nbsp;»</span>. <em>Science</em> 371 (6531): eabd9338. <a href="https://doi.org/10.1126/science.abd9338">https://doi.org/10.1126/science.abd9338</a>.
</div>
<div id="ref-cheng2020" class="csl-entry" role="listitem">
Cheng, Cindy, Joan Barceló, Allison Spencer Hartnett, Robert Kubinec, et Luca Messerschmidt. 2020. <span>«&nbsp;COVID-19 Government Response Event Dataset (CoronaNet v.1.0)&nbsp;»</span>. <em>Nature Human Behaviour</em> 4 (7): 756‑68. <a href="https://doi.org/10.1038/s41562-020-0909-7">https://doi.org/10.1038/s41562-020-0909-7</a>.
</div>
<div id="ref-cheng2022" class="csl-entry" role="listitem">
Cheng, Cindy, Amélie Desvars-Larrive, Bernhard Ebbinghaus, Thomas Hale, Alexandra Howes, Lukas Lehner, Luca Messerschmidt, et al. 2022. <span>«&nbsp;Capturing the COVID-19 Crisis Through Public Health and Social Measures Data Science&nbsp;»</span>. <em>Scientific Data</em> 9 (1): 520. <a href="https://doi.org/10.1038/s41597-022-01616-8">https://doi.org/10.1038/s41597-022-01616-8</a>.
</div>
<div id="ref-desvars-larrive2020" class="csl-entry" role="listitem">
Desvars-Larrive, Amélie, Elma Dervic, Nina Haug, Thomas Niederkrotenthaler, Jiaying Chen, Anna Di Natale, Jana Lasser, et al. 2020. <span>«&nbsp;A Structured Open Dataset of Government Interventions in Response to COVID-19&nbsp;»</span>. <em>Scientific Data</em> 7 (1): 285. <a href="https://doi.org/10.1038/s41597-020-00609-9">https://doi.org/10.1038/s41597-020-00609-9</a>.
</div>
<div id="ref-hale2021" class="csl-entry" role="listitem">
Hale, Thomas, Noam Angrist, Rafael Goldszmidt, Beatriz Kira, Anna Petherick, Toby Phillips, Samuel Webster, et al. 2021. <span>«&nbsp;A Global Panel Database of Pandemic Policies (Oxford COVID-19 Government Response Tracker)&nbsp;»</span>. <em>Nature Human Behaviour</em> 5 (4): 529‑38. <a href="https://doi.org/10.1038/s41562-021-01079-8">https://doi.org/10.1038/s41562-021-01079-8</a>.
</div>
<div id="ref-shvetsova2022" class="csl-entry" role="listitem">
Shvetsova, Olga, Andrei Zhirnov, Abdul Basit Adeel, Mert Can Bayar, Onsel Gurel Bayrali, Michael Catalano, Olivia Catalano, et al. 2022. <span>«&nbsp;Protective Policy Index (PPI) Global Dataset of Origins and Stringency of COVID 19 Mitigation Policies&nbsp;»</span>. <em>Scientific Data</em> 9 (1): 319. <a href="https://doi.org/10.1038/s41597-022-01437-9">https://doi.org/10.1038/s41597-022-01437-9</a>.
</div>
<div id="ref-zheng2020" class="csl-entry" role="listitem">
Zheng, Qulu, Forrest K. Jones, Sarah V. Leavitt, Lawson Ung, Alain B. Labrique, David H. Peters, Elizabeth C. Lee, et Andrew S. Azman. 2020. <span>«&nbsp;HIT-COVID, a Global Database Tracking Public Health Interventions to COVID-19&nbsp;»</span>. <em>Scientific Data</em> 7 (1): 286. <a href="https://doi.org/10.1038/s41597-020-00610-2">https://doi.org/10.1038/s41597-020-00610-2</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copié");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copié");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../sources/surveillance.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Chiffres de la surveillance</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../sources/vico.html" class="pagination-link">
        <span class="nav-page-text">La Vie en confinement</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>